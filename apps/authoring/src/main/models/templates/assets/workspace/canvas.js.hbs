{{#with . as | data |}}
import React from 'react';
import ReactDom from 'react-dom';
import { {{data.templateComponent}} } from '{{data.templateJs}}';

const createElement = React.createElement;
const createRoot = ReactDom.createRoot;
const container = document.getElementById('app');
const root = createRoot(container);

const App = () => {
  const [manifest, setManifest] = React.useState(window.__MANIFEST.elements);

  window.addEventListener('message', (e) => {
    setManifest(e.data.updateManifest.elements);
  })

  return createElement({{data.templateComponent}}, { manifest }, null);
}

root.render(createElement(App));
{{/with}}